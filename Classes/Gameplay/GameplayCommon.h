#pragma once

#include "Maths.h"

namespace GameplayCommon {
	constexpr uint MAX_LAYER = 3;

	namespace GameEvent {
		struct EventSacrificeConfirmedData {
			BigReal redMatterGain;
		};

		constexpr static const char* EVENT_SACRIFICE_INITIATED = "onSacrificeInitiated";
		constexpr static const char* EVENT_SACRIFICE_CANCELLED = "onSacrificeCancelled";
		constexpr static const char* EVENT_SACRIFICE_CONFIRMED = "onSacrificeConfirmed";
	}

	namespace LevelUps {
		constexpr uint MAX_LEVEL = 500;
		
		constexpr BigReal EXP_REQUIRED_FOR_LEVEL[MAX_LAYER][MAX_LEVEL] = {
			{0, 6, 14, 22, 33, 45, 60, 78, 99, 125, 156, 193, 238, 291, 356, 433, 525, 636, 769, 929, 1121, 1351, 1627, 1958, 2355, 2832, 3405, 4092, 4916, 5905, 7092, 8516, 10225, 12276, 14737, 17691, 21235, 25487, 30591, 36715, 44064, 52882, 63465, 76163, 91402, 109688, 131632, 157964, 189563, 227481, 272984, 327586, 393109, 471737, 566091, 679315, 815183, 978226, 1173877, 1408658, 1690396, 3144144.8009067, 5848123.744686463, 10877532.50836682, 20232245.097599786, 37632029.56119372, 69995658.18729043, 130192053.19373883, 242157418.8366911, 450413108.8755677, 837768862.7595053, 1558250829.1216516, 2898347695.9691777, 5390928502.897174, 10027129787.400227, 18650465701.182217, 34689872863.956505, 64523173849.58336, 120013119360.29263, 223224426810.24908, 415197472307.22565, 772267358073.6917, 1436417378369.5564, 2671736466913.7344, 4969430050336.403, 9243140237534.84, 17192241374873.953, 31977569783507.24, 59478281077998.07, 110629604790122.05, 205771067986447.72, 382734191223864.94, 711885603068450.6, 1324107233165014.2, 2462839471446355.0, 4580881444417335.0, 8520439529283271.0, 1.5848017590600772e+16, 2.9477312821024972e+16, 5.482780200599312e+16, 1.0197971197742155e+17, 1.896822646597293e+17, 3.528090128587706e+17, 6.562247648344083e+17, 1.2205780640134963e+18, 2.270275201268424e+18, 4.222711877774416e+18, 7.854244097953889e+18, 1.4608894030399123e+19, 2.7172542909259952e+19, 5.054092983093575e+19, 9.400612951609449e+19, 1.7485140094729444e+20, 3.2522360583537354e+20, 6.049159069675742e+20, 1.1251435871360456e+21, 2.0927670723463993e+21, 3.8925467549880015e+21, 7.240136964934417e+21, 1.3466654755795956e+22, 2.5047977847358283e+22, 4.6589238798532e+22, 8.66559841690602e+22, 1.6118013056032754e+23, 2.997950428513163e+23, 5.5761877971756425e+23, 1.0371709302965494e+24, 1.9291379303854956e+24, 3.588196550569587e+24, 6.67404558414091e+24, 1.2413724786628384e+25, 2.3089528103324543e+25, 4.294652227248706e+25, 7.988053142729624e+25, 1.4857778845549993e+26, 2.7635468652835976e+26, 5.140197169445003e+26, 9.560766735194852e+26, 1.77830261275045e+27, 3.307642859722359e+27, 6.152215719093696e+27, 1.1443121237529944e+28, 2.128420550182998e+28, 3.9588622233441397e+28, 7.363483735425934e+28, 1.3696079747901282e+29, 2.5474708331110404e+29, 4.738295749588708e+29, 8.813230094238364e+29, 1.6392607975288577e+30, 3.0490250834044844e+30, 5.671186655133596e+30, 1.054840717855043e+31, 1.9620037352106817e+31, 3.6493269474923346e+31, 6.787748122336466e+31, 1.2625211507546949e+32, 2.3482893404039057e+32, 4.367818173151535e+32, 8.124141802062274e+32, 1.5110903751836478e+33, 2.8106280978416854e+33, 5.227768261985689e+33, 9.723648967293622e+33, 1.8085987079166512e+34, 3.363993596725029e+34, 6.257028089908644e+34, 1.1638072247230219e+35, 2.1646814379848425e+35, 4.0263074746518396e+35, 7.488931902852472e+35, 1.3929413339305682e+36, 2.590870881110869e+36, 4.8190198388662355e+36, 8.963376900291227e+36, 1.667188103454173e+37, 3.1009698724247687e+37, 5.767803962710081e+37, 1.0728115370640767e+38, 1.9954294589391857e+38, 3.7114987936268896e+38, 6.903387756146022e+38, 1.284030122643161e+39, 2.3882960281162806e+39, 4.442230612296285e+39, 8.262548938871094e+39, 1.536834102630024e+40, 2.858511430891845e+40, 5.316831261458834e+40, 9.88930614631343e+40, 1.8394109432142986e+41, 3.421304354378596e+41, 6.3636260991441904e+41, 1.1836344544408194e+42, 2.2015600852599246e+42, 4.094901758583459e+42, 7.616517270965235e+42, 1.4166722123995336e+43, 2.6350103150631325e+43, 4.901119186017427e+43, 9.116081685992413e+43, 1.6955911935945887e+44, 3.1537996200859353e+44, 5.866067293359841e+44, 1.0910885165649305e+45, 2.0294246408107703e+45, 3.7747298319080335e+45, 7.020997487348942e+45, 1.3059055326469034e+46, 2.4289842907232395e+46, 4.5179107807452265e+46, 8.403314052186121e+46, 1.5630164137066183e+47, 2.9072105294943098e+47, 5.407411584859417e+47, 1.0057785547838515e+48, 1.8707481118979638e+48, 3.479591488130213e+48, 6.472040167922195e+48, 1.2037994712335283e+49, 2.2390670164943627e+49, 4.1646646506795143e+49, 7.746276250263898e+49, 1.440807382549085e+50, 2.679901731541298e+50, 4.984617220666814e+50, 9.271388030440273e+50, 1.724478173661891e+51, 3.2075294030111176e+51, 5.966004689600678e+51, 1.109676872265726e+52, 2.06399898241425e+52, 3.8390381072905056e+52, 7.14061087956034e+52, 1.3281536235982233e+53, 2.470365739892695e+53, 4.594880276200413e+53, 8.54647731373277e+53, 1.589644780354295e+54, 2.9567392914589885e+54, 5.4995350821137196e+54, 1.0229135252731518e+55, 1.902619157008062e+55, 3.5388716320349953e+55, 6.582301235585092e+55, 1.2243080298188268e+56, 2.277212935463018e+56, 4.235616059961214e+56, 7.878245871527858e+56, 1.4653537321041819e+57, 2.7255579417137775e+57, 5.069537771587626e+57, 9.429340255152984e+57, 1.753857287458455e+58, 3.262174554672726e+58, 6.067644671691271e+58, 1.1285819089345767e+59, 2.099162350618312e+59, 3.9044419721500605e+59, 7.2622620681991125e+59, 1.3507807446850351e+60, 2.5124521851141654e+60, 4.673161064312347e+60, 8.692079579620965e+60, 1.6167268018094997e+61, 3.007111851365669e+61, 5.593228043540145e+61, 1.0403404160984668e+62, 1.9350331739431483e+62, 3.5991617035342555e+62, 6.694440768573715e+62, 1.245165982954711e+63, 2.3160087282957623e+63, 4.307776234630119e+63, 8.01246379641202e+63, 1.490318266132636e+64, 2.771991975006702e+64, 5.155905073512467e+64, 9.589983436733188e+64, 1.783736919232373e+65, 3.3177506697722137e+65, 6.171016245776318e+65, 1.1478090217143951e+66, 2.1349247803887747e+66, 3.970960091523121e+66, 7.385985770233005e+66, 1.373793353263339e+67, 2.5552556370698102e+67, 4.752775484949847e+67, 8.840162402006717e+67, 1.644270206773249e+68, 3.058342584598243e+68, 5.688517207352734e+68, 1.0580642005676083e+69, 1.9679994130557513e+69, 3.660478908283697e+69, 6.808490769407677e+69, 1.266379283109828e+70, 2.3554654665842798e+70, 4.3811657678467604e+70, 8.148968328194975e+70, 1.5157081090442653e+71, 2.8192170828223335e+71, 5.24374377404954e+71, 9.753363419732144e+71, 1.814125596070179e+72, 3.3742736086905325e+72, 6.276148912164391e+72, 1.1673636976625767e+73, 2.1712964776523925e+73, 4.0386114484334506e+73, 7.511817294086218e+73, 1.3971980167000363e+74, 2.5987883110620676e+74, 4.833746258575447e+74, 8.99076804095033e+74, 1.6722828556167614e+75, 3.1104461114471755e+75, 5.7854297672917476e+75, 1.076089936716265e+76, 2.0015272822922532e+76, 3.72284074506359e+76, 6.924483785818278e+76, 1.2879539841621995e+77, 2.3955944105416915e+77, 4.4558056036075457e+77, 8.287798422710036e+77, 1.5415305066240667e+78, 2.8672467423207635e+78, 5.333078940716621e+78, 9.919526829732913e+78, 1.845031990330322e+79, 3.431759502014399e+79, 6.383072673746782e+79, 1.1872515173169014e+80, 2.2082878222094366e+80, 4.107415349309552e+80, 7.639792549715767e+80, 1.4210014142471327e+81, 2.6430626304996663e+81, 4.91609649272938e+81, 9.143939476476646e+81, 1.7007727426246563e+82, 3.163437301281861e+82, 5.883993380384261e+82, 1.0944227687514723e+83, 2.035626349877739e+83, 3.7862650107725936e+83, 7.042452920037025e+83, 1.3098962431268866e+84, 2.436407012216009e+84, 4.531717042721777e+84, 8.428993699462505e+84, 1.5677928281000262e+85, 2.9160946602660484e+85, 5.423936068094849e+85, 1.0088521086656422e+86, 1.876464922118094e+86, 3.4902247551396546e+86, 6.491818044559758e+86, 1.2074781562881147e+87, 2.245909370695894e+87, 4.1773914294943625e+87, 7.769948058859515e+87, 1.4452103389478695e+88, 2.6880912304430375e+88, 4.99984968862405e+88, 9.299720420840733e+88, 1.7297479982763765e+89, 3.21733127679406e+89, 5.984236174836951e+89, 1.113067928519673e+90, 2.0703063470465914e+90, 3.8507698055066602e+90, 7.162431838242388e+90, 1.3322123219130844e+91, 2.4779149187583364e+91, 4.608921748890507e+91, 8.57259445293634e+91, 1.5945025682461593e+92, 2.965774776937857e+92, 5.516341085104413e+92, 1.0260394418294209e+93, 1.9084333618027228e+93, 3.549686052953064e+93, 6.602416058492701e+93, 1.228049386879642e+94, 2.2841718595961343e+94, 4.24855965884881e+94, 7.902320965458787e+94, 1.4698316995753342e+95, 2.7338869612101214e+95, 5.085029747850826e+95, 9.458155331002535e+95, 1.7592168915664717e+96, 3.272143418313637e+96, 6.086186758063365e+96, 1.1320307369997859e+97, 2.1055771708196016e+97, 3.916373537724459e+97, 7.284454780167494e+97, 1.354908589111154e+98, 2.5201299757467463e+98, 4.6874417548889486e+98, 8.718641664093443e+98, 1.6216673495213805e+99, 3.0163012701097677e+99, 5.610320362404168e+99, 1.0435195874071752e+100, 1.9409464325773457e+100, 3.6101603645938634e+100, 6.714898278144586e+100, 1.2489710797348929e+101, 2.3230862083069013e+101, 4.320940347450836e+101, 8.036949046258554e+101, 1.4948725226040912e+102, 2.780462892043609e+102, 5.171660979201113e+102, 9.61928942131407e+102, 1.7891878323644173e+103, 3.327889368197816e+103, 6.189874224847937e+103, 1.1513166058217163e+104, 2.1414488868283923e+104, 3.98309492950081e+104, 7.408556568871506e+104, 1.3779915218101e+105, 2.563064230566786e+105, 4.767299468854222e+105, 8.867177012068855e+105, 1.649294924244807e+106, 3.0676885590953404e+106, 5.705900719917333e+106, 1.061297533904624e+107, 1.9740134130626008e+107, 3.671664948296437e+107, 6.829296803831372e+107, 1.2702492055126354e+108, 2.3626635222535016e+108, 4.3945541513915133e+108, 8.173870721588214e+108, 1.520339954215408e+109, 2.8278323148406582e+109, 5.259768105603626e+109, 9.783168676422741e+109, 1.81966937381463e+110, 3.384585035295212e+110, 6.295328165649094e+110, 1.1709310388107314e+111, 2.1779317321879608e+111, 4.0509530218696066e+111, 7.534772620677468e+111, 1.4014677074460093e+112, 2.606729935849577e+112, 4.848517680680213e+112, 9.018242886065195e+112, 1.6773931768081264e+113, 3.1199513088631156e+113, 5.803109434485395e+113, 1.0793783548142832e+114, 2.007643739954567e+114, 3.734217356315495e+114, 6.945644282746819e+114, 1.2918898365909083e+115, 2.40291509605909e+115, 4.469422078669906e+115, 8.313125066326025e+115, 1.546241262336641e+116, 2.8760087479461518e+116, 5.3493762711798434e+116, 9.949839864394507e+116, 1.8506702147773786e+117, 3.442246599485923e+117, 6.402578675043819e+117, 1.19087963355815e+118, 2.2150361184181594e+118, 4.119967180257776e+118, 7.663138955279464e+118, 1.4253438456819802e+119, 2.651139552968483e+119, 4.931119568521379e+119, 9.171882397449765e+119, 1.7059701259256564e+120, 3.1731044342217206e+120, 5.9019742476524e+120, 1.0977672100633464e+121, 2.041847010717824e+121, 3.797835439935153e+121, 7.063973918279384e+121, 1.3138991487999656e+122, 2.443852416767936e+122, 4.545565495188361e+122, 8.454751821050351e+122, 1.5725838387153652e+123, 2.9250059400105795e+123, 5.440511048419677e+123, 1.0119350550060599e+124, 1.8821992023112716e+124, 3.500890516298965e+124},
			{0, 6, 14, 23, 34, 47, 63, 83, 107, 137, 172, 216, 270, 335, 415, 512, 630, 775, 951, 1166, 1428, 1749, 2139, 2616, 3197, 3906, 4771, 5827, 7115, 8686, 10603, 12942, 15795, 19275, 23522, 28702, 35023, 42734, 52141, 63618, 77620, 94702, 115542, 140967, 171986, 209829, 255997, 312323, 381039, 464874, 567152, 691932, 844162, 1029884, 1256464, 1532892, 1870135, 2281570, 2783521, 3395902, 4143006, 7960795.275755196, 15296683.006113607, 29392599.83815354, 56477917.51001438, 108522376.6460713, 208525838.31258747, 400682542.567416, 769911732.7366923, 1479385752.2831628, 2842640286.5937304, 5462134198.330928, 10495492260.127565, 20167090579.739754, 38751068016.969734, 74460182656.70702, 143075249577.66956, 274919105612.9131, 528257082775.5506, 1015046018164.253, 1950410976839.9885, 3747714775374.405, 7201234072199.699, 13837171476557.223, 26588125317954.867, 51089083311506.78, 98167674391124.3, 188629187615246.12, 362450986007199.2, 696449572769926.6, 1338227859049836.2, 2571404838995825.0, 4940954410465192.0, 9494043919136042.0, 1.8242805421217708e+16, 3.505355066506135e+16, 6.7355397678817064e+16, 1.2942339675939213e+17, 2.4868705706145552e+17, 4.7785218044013344e+17, 9.181929651827772e+17, 1.7643077833343273e+18, 3.3901174068355133e+18, 6.514110599059237e+18, 1.2516863518966383e+19, 2.4051153256220553e+19, 4.621429098895726e+19, 8.880076014651027e+19, 1.70630660639205e+20, 3.2786681444608705e+20, 6.299960840020273e+20, 1.2105374754789927e+21, 2.3260477592417122e+21, 4.4695007695543536e+21, 8.588145728968653e+21, 1.6502122018638456e+22, 3.1708827459483463e+22, 6.09285119644522e+22, 1.1707413574135612e+23, 2.2495795182963215e+23, 4.3225670444475897e+23, 8.305812575970946e+23, 1.5959618864830393e+24, 3.0666407648932603e+24, 5.892550229767756e+24, 1.1322535266538681e+25, 2.175625151471698e+25, 4.180463728562774e+25, 8.032761054448974e+25, 1.5434950366148279e+26, 2.9658257128592624e+26, 5.6988341072651686e+26, 1.095030973711962e+27, 2.104102015989048e+27, 4.043032023725336e+27, 7.768686033591986e+27, 1.4927530213552906e+28, 2.8683249305351217e+28, 5.511486354024702e+28, 1.0590321029260772e+29, 2.034930185772821e+29, 3.910118351963049e+29, 7.5132924132979e+29, 1.443679137215333e+30, 2.774029462159486e+30, 5.330297611539804e+30, 1.024216686057429e+31, 1.968032362259437e+31, 3.781574184081645e+31, 7.266294794713098e+31, 1.3962185448041557e+32, 2.68283393384124e+32, 5.155065403876026e+32, 9.905458173547917e+32, 1.903333788047253e+33, 3.65725587373283e+33, 7.027417161377684e+33, 1.3503182075587301e+34, 2.5946364358241126e+34, 4.985593911436052e+34, 9.579818700824406e+34, 1.8407621633634147e+35, 3.537024496902809e+35, 6.79639257079876e+35, 1.3059268324789838e+36, 2.50933840860837e+36, 4.8216937521409886e+36, 9.264884544738916e+36, 1.7802475652715838e+37, 3.4207456966693495e+37, 6.572962856150158e+37, 1.2629948128092535e+38, 2.4268445328129813e+38, 4.6631817698001435e+38, 8.960303770670979e+38, 1.721722369534429e+39, 3.308289533060405e+39, 6.356878337775567e+39, 1.2214741726035755e+40, 2.3470626226577707e+40, 4.5098808294369045e+40, 8.665736013763013e+40, 1.6651211750445632e+41, 3.199530337848128e+41, 6.147897544175178e+41, 1.1813185131132604e+42, 2.2699035229471294e+42, 4.3616196193429104e+42, 8.3808520985674e+42, 1.6103807307397264e+43, 3.0943465741163837e+43, 5.945786942164631e+43, 1.1424829609369337e+44, 2.195281009440318e+44, 4.2182324596395715e+44, 8.105333671197436e+44, 1.5574398649205872e+45, 2.992620700444908e+45, 5.75032067590489e+45, 1.1049241178751247e+46, 2.123111692497052e+46, 4.079559117133085e+46, 7.838872843571222e+46, 1.5062394168922102e+47, 2.894239039558382e+47, 5.561280314511431e+47, 1.0686000124333712e+48, 2.053314923890723e+48, 3.9454446262560245e+48, 7.581171849350951e+48, 1.456722170852785e+49, 2.799091651293626e+49, 5.378454607960702e+49, 1.033470052919649e+50, 1.9858127066851053e+50, 3.815739115895429e+50, 7.331942711193067e+50, 1.4088327919557479e+51, 2.7070722097429694e+51, 5.2016392510211156e+51, 9.994949820837073e+51, 1.9205296080738436e+52, 3.69029764191389e+52, 7.09090691893754e+52, 1.362517764473848e+53, 2.618077884436499e+53, 5.030636654944732e+53, 9.666368332476302e+53, 1.8573926750853215e+54, 3.568980025176445e+54, 6.857795118376539e+54, 1.3177253319960517e+55, 2.5320092254304136e+55, 4.8652557266645394e+55, 9.348588878785911e+55, 1.796331353058713e+56, 3.451650694902317e+56, 6.632346810254801e+56, 1.27440543959046e+57, 2.4487700521730686e+57, 4.7053116552505514e+57, 9.041256345563935e+57, 1.7372774068001102e+58, 3.338178537166411e+58, 6.414310059165258e+58, 1.2325096778686042e+59, 2.368267346024523e+59, 4.55062570538612e+59, 8.744027292899431e+59, 1.6801648443306256e+60, 3.228436748381297e+60, 6.203441212014661e+60, 1.1919912288886172e+61, 2.2904111463094778e+61, 4.401025017633661e+61, 8.45656957138308e+61, 1.6249298431412588e+62, 3.1223026935959282e+62, 5.999504625744576e+62, 1.1528048138368203e+63, 2.2151144497874497e+63, 4.2563424152665855e+63, 8.178561950934741e+63, 1.5715106788721106e+64, 3.0196577694527603e+64, 5.802272404003479e+64, 1.1149066424292684e+65, 2.1422931134278394e+65, 4.1164162174515927e+65, 7.909693761833235e+65, 1.5198476563362559e+66, 2.920387271650116e+66, 5.611524142475698e+66, 1.0782543639767053e+67, 2.0718657603812387e+67, 3.9810900585725495e+67, 7.649664547547156e+67, 1.469883042811186e+68, 2.8243802667616936e+68, 5.427046682582594e+68, 1.0428070200582453e+69, 2.0037536890419186e+69, 3.850212713494046e+69, 7.39818372897881e+69, 1.4215610035232783e+70, 2.7315294682699787e+70, 5.2486338732807636e+70, 1.0085249987508986e+71, 1.9378807850998516e+71, 3.7236379285693645e+71, 7.154970279746035e+71, 1.3748275392532004e+72, 2.6417311166750244e+72, 5.076086340691059e+72, 9.75369990363787e+72, 1.8741734364840165e+73, 3.6012242582040376e+73, 6.919752412139058e+73, 1.32963042599252e+74, 2.554884863544627e+74, 4.909211265301e+74, 9.43304944627587e+74, 1.8125604511019086e+75, 3.482834906792317e+75, 6.692267273401437e+75, 1.285919156584086e+76, 2.4708936593763214e+76, 4.747822166491601e+76, 9.122940292913611e+76, 1.75297297728335e+77, 3.368337575849958e+77, 6.472260651995694e+77, 1.2436448842809723e+78, 2.3896636451458883e+78, 4.591738694147824e+78, 8.823025900805043e+78, 1.695344426839689e+79, 3.257604316172463e+79, 6.259486693525385e+79, 1.2027603681609029e+80, 2.3111040474211746e+80, 4.440786427119787e+80, 8.53297111971067e+80, 1.6396104006524052e+81, 3.1505113848535966e+81, 6.053707625996185e+81, 1.1632199203351668e+82, 2.2351270769240234e+82, 4.29479667830951e+82, 8.252451817371725e+82, 1.5857086167079764e+83, 3.046939107004377e+83, 5.854693494108909e+83, 1.1249793548930268e+84, 2.161647830426951e+84, 4.153606306165386e+84, 7.98115451729679e+84, 1.5335788404985781e+85, 2.9467717420180174e+85, 5.662221902287621e+85, 1.0879959385245661e+86, 2.0905841958749538e+86, 4.017057532373724e+86, 7.718776048456109e+86, 1.4831628177108415e+87, 2.8498973542313818e+87, 5.4760777661556e+87, 1.0522283427667985e+88, 2.021856760626403e+88, 3.884997765543634e+88, 7.465023206492091e+88, 1.4344042091274553e+89, 2.756207687838405e+89, 5.296053072181494e+89, 1.0176365978196743e+90, 1.9553887227105044e+90, 3.7572794306882335e+90, 7.219612426067441e+90, 1.3872485276688586e+91, 2.6655980459157112e+91, 5.12194664522704e+91, 9.841820478803756e+91, 1.8911058050021417e+92, 3.633759804311615e+92, 6.982269463984766e+92, 1.341643077504673e+93, 2.577967173425229e+93, 4.953563923736578e+93, 9.518273079459833e+93, 1.8289361722182066e+94, 3.514300854917284e+94, 6.75272909272356e+94, 1.2975368951668321e+95, 2.4932171440630676e+95, 4.7907167423171846e+95, 9.20536222036247e+95, 1.7688103506426483e+96, 3.3987690887598485e+96, 6.53073480405205e+96, 1.254880692598601e+97, 2.4112532508282122e+97, 4.6332231214664096e+97, 8.902738227897704e+97, 1.7106611504905442e+98, 3.28703540066758e+98, 6.316038522382754e+98, 1.213626802075846e+99, 2.331983900188739e+99, 4.4809070642126605e+99, 8.610062923884627e+99, 1.654423590824431e+100, 3.1789749297691445e+100, 6.10840032755141e+100, 1.1737291229390035e+101, 2.2553205097272948e+101, 4.3335983594409965e+101, 8.327009247665876e+101, 1.600034826938998e+102, 3.074466919963284e+102, 5.907588186709451e+102, 1.1351430700762208e+103, 2.181177409151458e+103, 4.191132391684527e+103, 8.053260890621817e+103, 1.5474340801329823e+104, 2.973394584975525e+104, 5.713377695030471e+104, 1.097825524100105e+105, 2.1094717445583516e+105, 4.0533499571688726e+105, 7.788511942699988e+105, 1.4965625697898026e+106, 2.875644977851106e+106, 5.5255518249409e+106, 1.0617347831623939e+107, 2.0401233858465393e+107, 3.920097085904125e+107, 7.532466550564776e+107, 1.4473634476910217e+108, 2.781108864738298e+108, 5.34390068359464e+108, 1.02683051635271e+109, 1.973054837171732e+109, 3.791224869625482e+109, 7.2848385869853655e+109, 1.399781734489238e+110, 2.6896806028210705e+110, 5.168221278320686e+110, 9.930737186293199e+110, 1.9081911503462381e+111, 3.666589295390296e+111, 7.045351331092455e+111, 1.353764258269415e+112, 2.6012580222646808e+112, 4.9983172897815835e+112, 9.604266672315312e+112, 1.8454598410853874e+113, 3.5460510846455715e+113, 6.813737159146465e+113, 1.309259595129993e+114, 2.5157423120422814e+114, 4.833998852589244e+114, 9.288528795250231e+114, 1.7847908080073321e+115, 3.429475537586088e+115, 6.589737245471669e+115, 1.266218011717381e+116, 2.433037909514947e+116, 4.675082343132971e+116, 8.983170722330004e+116, 1.7261162542957103e+117, 3.3167323826292067e+117, 6.373101273222021e+117, 1.2245914096496112e+118, 2.353052393641728e+118, 4.5213901743825795e+118, 8.687851220076128e+118, 1.6693706119376277e+119, 3.207695630838151e+119, 6.163587154655507e+119, 1.1843332717670558e+120, 2.2756963817003975e+120, 4.3727505974373135e+120, 8.402240272975798e+120, 1.6144904684522994e+121, 3.1022434351310926e+121, 5.960960760604395e+121, 1.1453986101501345e+122, 2.200883429403483e+122, 4.228997509598793e+122, 8.12601871469408e+122, 1.5614144960284673e+123, 3.0002579541186997e+123, 5.764995658839082e+123, 1.1077439158459297e+124, 2.128529934297953e+124, 4.089970268753518e+124, 7.858877871409883e+124, 1.510083382991409e+125, 2.9016252204179927e+125, 5.575472861033172e+125, 1.071327110247524e+126, 2.058555042340617e+126, 3.9555135138574963e+126, 7.600519216877177e+126, 1.4604397675229494e+127, 2.8062350132953476e+127, 5.392180578047009e+127, 1.036107498071733e+128, 1.9908805575448343e+128, 3.825476991322399e+128, 7.350654038825991e+128, 1.412428173560414e+129, 2.7139807354963352e+129, 5.214913983256208e+129, 1.0020457218826803e+130, 1.9254308545975703e+130, 3.6997153871092305e+130, 7.109003116330387e+130, 1.365994948802884e+131},
			{0, 6, 14, 23, 35, 49, 66, 88, 115, 149, 190, 242, 306, 385, 483, 605, 757, 944, 1176, 1465, 1822, 2265, 2815, 3496, 4341, 5389, 6688, 8299, 10297, 12774, 15846, 19655, 24378, 30235, 37497, 46502, 57668, 71514, 88684, 109974, 136373, 169109, 209701, 260035, 322449, 399843, 495811, 614811, 762372, 945347, 1172236, 1453579, 1802444, 2235036, 2771451, 3436605, 4261396, 5284137, 6552335, 8124902, 10074884, 19988578.824095085, 39657355.74700466, 78680218.37805724, 156101592.58366555, 309705622.60055244, 614456055.9027921, 1219080975.9724135, 2418656914.027306, 4798615729.747035, 9520454267.525095, 18888582322.300953, 37474949016.29495, 74350301550.48897, 147511002599.62576, 292661836075.1866, 580641093841.2167, 1151991947889.8484, 2285552052947.6577, 4534535318382.871, 8996518144207.166, 17849092114163.9, 35412598940192.18, 70258596594446.9, 139393056118751.62, 276555824100193.56, 548686756231728.75, 1088594526310861.0, 2159771543316126.5, 4284986746923800.5, 8501413713872188.0, 1.686680482108301e+16, 3.3463740785445636e+16, 6.639206175099125e+16, 1.3172185056623402e+17, 2.6133615160703613e+17, 5.184909249221641e+17, 1.028685995259661e+18, 2.0409130149377068e+18, 4.049171422184473e+18, 8.033556102490897e+18, 1.5938575308744983e+19, 3.1622133414794908e+19, 6.27383126985449e+19, 1.2447281239965993e+20, 2.4695405981012027e+20, 4.899568546779907e+20, 9.720743997046726e+20, 1.928595609051733e+21, 3.8263336884188993e+21, 7.591446037919512e+21, 1.5061428939386578e+22, 2.9881875015989807e+22, 5.928564003211868e+22, 1.1762270982435534e+23, 2.3336345629253207e+23, 4.6299309728600115e+23, 9.185783050180145e+23, 1.8224593571598818e+24, 3.6157593646118324e+24, 7.173666579400476e+24, 1.4232554493547505e+25, 2.8237388115225394e+25, 5.60229780206506e+25, 1.1114958839304027e+26, 2.2052078337190308e+26, 4.375132342100335e+26, 8.680262566729912e+26, 1.7221640932396702e+27, 3.416773560988234e+27, 6.778878745001822e+27, 1.344929543008548e+28, 2.668340213329258e+28, 5.2939869832457256e+28, 1.0503270174760284e+29, 2.083848802672562e+29, 4.13435602450256e+29, 8.202562352613392e+29, 1.627388370758547e+30, 3.2287385275850377e+30, 6.405817238728843e+30, 1.270914140163823e+31, 2.521493654085058e+31, 5.002643409704808e+31, 9.925244524854421e+31, 1.969168513731131e+32, 3.9068303312425856e+32, 7.751151377185324e+32, 1.537828433233574e+33, 3.05105161153542e+33, 6.053286397286287e+33, 1.2009720212216018e+34, 2.3827284901036615e+34, 4.727333324365672e+34, 9.3790293155415e+34, 1.8607994162034352e+35, 3.691826041747618e+35, 7.324582866827277e+35, 1.4531972407785328e+36, 2.88314332570461e+36, 5.720156358197948e+36, 1.134879021466473e+37, 2.251599978589483e+37, 4.467174357521535e+37, 8.86287392532273e+37, 1.7583941867840296e+38, 3.4886540665795144e+38, 6.921489668093757e+38, 1.3732235501498017e+39, 2.7244755234972065e+39, 5.4053594386184593e+39, 1.0724233126219024e+40, 2.127687852241854e+40, 4.2213326988478407e+40, 8.375124074514116e+40, 1.6616246163836002e+41, 3.2966632389050634e+41, 6.540579865987646e+41, 1.2976510454119491e+42, 2.574539674097307e+42, 5.1078867134090576e+42, 1.013404723940357e+43, 2.0105949722976685e+43, 3.989020425038574e+43, 7.914216523276531e+43, 1.570180558218064e+44, 3.1152382275046392e+44, 6.1806326433692044e+44, 1.2262375164444501e+45, 2.4328552326257894e+45, 4.8267847815295665e+45, 9.57634100655466e+45, 1.8999460557004445e+46, 3.7694929745096813e+46, 7.478674061427211e+46, 1.4837689337871586e+47, 2.943797564633723e+47, 5.840494368233306e+47, 1.158754082657488e+48, 2.298968099992456e+48, 4.5611527103850334e+48, 9.049326977403906e+48, 1.7953864723169352e+49, 3.5620467610767995e+49, 7.067100773976371e+49, 1.402112793556912e+50, 2.781791782416914e+50, 5.519074896315157e+50, 1.0949844594289272e+51, 2.1724491675069912e+51, 4.310139148333871e+51, 8.551316070294402e+51, 1.696581108346409e+52, 3.3660169189592767e+52, 6.678177567215204e+52, 1.3249504293354964e+53, 2.628701651801626e+53, 5.215344077174425e+53, 1.034724264911406e+54, 2.0528929415842298e+54, 4.0729395961031114e+54, 8.080712158668573e+54, 1.603213292279845e+55, 3.180775171883213e+55, 6.310657941016294e+55, 1.252034535497633e+56, 2.4840365184273038e+56, 4.928328452559771e+56, 9.777803649878587e+56, 1.939916244135912e+57, 3.8487938283656495e+57, 7.63600695547745e+57, 1.5149837799667257e+58, 3.005727819453984e+58, 5.963363993796704e+58, 1.1831314163692662e+59, 2.3473327300766246e+59, 4.657108136472023e+59, 9.239702542760494e+59, 1.8331569844836823e+60, 3.636983457215626e+60, 7.215775179115801e+60, 1.431609795536575e+61, 2.840313834344565e+61, 5.635182647339618e+61, 1.1180202372321803e+62, 2.2181521506686457e+62, 4.400813866926593e+62, 8.73121471198236e+62, 1.7322729988573005e+63, 3.4368296297328845e+63, 6.818669985390042e+63, 1.3528241251013843e+64, 2.6840030642011465e+64, 5.325062079375077e+64, 1.056492316548015e+65, 2.096080756031262e+65, 4.158624219966024e+65, 8.250710452412592e+65, 1.636940953758658e+66, 3.2476908522571783e+66, 6.4434186508782424e+66, 1.2783742603342434e+67, 2.536294532503139e+67, 5.032008352486228e+67, 9.983504571332676e+67, 1.980727306952403e+68, 3.929762976993568e+68, 7.796649746355239e+68, 1.5468553096768796e+69, 3.0689609343989293e+69, 6.088818493847476e+69, 1.2080215891793393e+70, 2.3967148329318095e+70, 4.75508222853671e+70, 9.434083141416832e+70, 1.8717220952570994e+71, 3.7134966369900854e+71, 7.367577327788331e+71, 1.4617273418332049e+72, 2.9000670461970784e+72, 5.753733019655004e+72, 1.141540631099553e+73, 2.2648166121015132e+73, 4.4933961584094017e+73, 8.914897978284256e+73, 1.768715758891596e+74, 3.5091320656409265e+74, 6.962118018231599e+74, 1.3812842148171493e+75, 2.7404678821972244e+75, 5.437088278279294e+75, 1.0787183144106118e+76, 2.140177135790654e+76, 4.2461114374086574e+76, 8.424285091818778e+76, 1.6713781622168458e+77, 3.316014273838222e+77, 6.578972319295033e+77, 1.3052681081481344e+78, 2.5896519265658988e+78, 5.137869422306744e+78, 1.019353293385658e+79, 2.022396934077146e+79, 4.012435517209057e+79, 7.96067206614277e+79, 1.5793973379227256e+80, 3.133524318438688e+80, 6.216912247782355e+80, 1.2334353899600196e+81, 2.447135813680679e+81, 4.855117454342468e+81, 9.632553029415456e+81, 1.9110985210360265e+82, 3.791619465735477e+82, 7.522573020019187e+82, 1.4924784871718067e+83, 2.9610773185488647e+83, 5.874777400000947e+83, 1.165555836160188e+84, 2.312462778941813e+84, 4.587926153420558e+84, 9.102445488386386e+84, 1.805925184895859e+85, 3.582955566833385e+85, 7.108583844597436e+85, 1.4103430347681314e+86, 2.798120580979973e+86, 5.551471232664267e+86, 1.1014118925605905e+87, 2.1852011948402113e+87, 4.33543917056298e+87, 8.601511314396953e+87, 1.7065398447763554e+88, 3.385775052036289e+88, 6.71737770324e+88, 1.3327277363228156e+89, 2.6441318288644666e+89, 5.245957548467102e+89, 1.0407979776158732e+90, 2.0649431875898922e+90, 4.096847284178346e+90, 8.12814501180984e+90, 1.6126239703430726e+91, 3.1994459571606558e+91, 6.347700779006741e+91, 1.2593838345549376e+92, 2.4986175277569958e+92, 4.95725717506988e+92, 9.835198235338644e+92, 1.9513033298911874e+93, 3.871385806504115e+93, 7.680829440104165e+93, 1.5238765609166665e+94, 3.023371096858666e+94, 5.9983682561675936e+94, 1.1900762620236509e+95, 2.361111303854923e+95, 4.684444826848168e+95, 9.293938536466763e+95, 1.8439174056350062e+96, 3.6583321327798526e+96, 7.258130951435228e+96, 1.4400131807647493e+97, 2.856986150637263e+97, 5.6682605228643294e+97, 1.124582887736283e+98, 2.231172449268786e+98, 4.4266461393492705e+98, 8.782465940468955e+98, 1.7424412425890406e+99, 3.457003425296657e+99, 6.858694795788568e+99, 1.3607650474844519e+100, 2.6997578542091526e+100, 5.356319582750958e+100, 1.0626938052177904e+101, 2.108384509552096e+101, 4.183034866951359e+101, 8.299141176031496e+101, 1.646549609324649e+102, 3.2667544249001036e+102, 6.481240779001806e+102, 1.2858781705539582e+103, 2.5511822903790537e+103, 5.0615456641120416e+103, 1.0042106597598293e+104, 1.9923539489635015e+104, 3.9528302347435865e+104, 7.842415185731277e+104, 1.5559351728490854e+105, 3.0869753829325855e+105, 6.124559159738249e+105, 1.215112537292069e+106, 2.4107832739874648e+106, 4.78299401559113e+106, 9.489460126932803e+106, 1.8827088891834682e+107, 3.735294436140001e+107, 7.410824161301762e+107, 1.47030751360227e+108, 2.917090106986903e+108, 5.787506772262017e+108, 1.1482413436167842e+109, 2.2781108257356997e+109, 4.519771878259628e+109, 8.967227406467105e+109, 1.7790979174430732e+110, 3.529730268207058e+110, 7.002984852122803e+110, 1.3893921946611642e+111, 2.75655411420775e+111, 5.469003362588176e+111, 1.0850502671374942e+112, 2.1527397300007888e+112, 4.271035624321564e+112, 8.473734678653983e+112, 1.6811889602449505e+113, 3.3354788971259824e+113, 6.61759013189795e+113, 1.3129298821685533e+114, 2.6048528862224093e+114, 5.16802812626526e+114, 1.0253367802510278e+115, 2.0342681720180393e+115, 4.03598805328379e+115, 8.00740029771504e+115, 1.588668219066664e+116, 3.151917746628261e+116, 6.2534048093104714e+116, 1.2406755141671977e+117, 2.4615002201077202e+117, 4.883616436693717e+117, 9.689095010400333e+117, 1.9223164500634264e+118, 3.8138758369258386e+118, 7.566729660460864e+118, 1.5012391646354355e+119, 2.9784585026367044e+119, 5.909261669231221e+119, 1.1723975151754743e+120, 2.3260366701081413e+120, 4.614856753494553e+120, 9.155875798933194e+120, 1.8165257585083456e+121, 3.603987104880558e+121, 7.150310416083026e+121, 1.4186215865508726e+122, 2.814545227716931e+122, 5.584057731790392e+122, 1.1078770539872138e+123, 2.198028075110632e+123, 4.360887701019495e+123, 8.652001198822678e+123, 1.7165570378464194e+124, 3.405649163087296e+124, 6.756807939565196e+124, 1.340550695209735e+125, 2.6596525792961144e+125, 5.276750717323491e+125, 1.0469073423169809e+126, 2.0770641671568898e+126, 4.1208953076392686e+126, 8.17585629035631e+126, 1.622089888006692e+127, 3.218226337805278e+127, 6.38496105420567e+127, 1.266776273154405e+128, 2.51328412593834e+128, 4.986355705861667e+128, 9.892929720429546e+128, 1.962757256533222e+129, 3.894110396961913e+129, 7.725915027572436e+129, 1.5328215414703714e+130, 3.0411179382772163e+130, 6.033577989541999e+130, 1.1970618731251328e+131, 2.374970756280263e+131, 4.711941980460042e+131, 9.348492889232727e+131, 1.8547409892237724e+132, 3.679806122619965e+132, 7.300735347278011e+132, 1.4484658928999575e+133, 2.873756331513516e+133, 5.701532561722816e+133, 1.1311840602458067e+134, 2.2442691755276804e+134, 4.452630044246918e+134, 8.834018007785887e+134, 1.75266917274472e+135, 3.477295638725525e+135, 6.89895454723144e+135, 1.368752582170718e+136, 2.7156051230267045e+136, 5.387760564084983e+136, 1.0689316959144605e+137, 2.1207604846942896e+137, 4.2075888016334715e+137}
		};

		inline BigReal getEXPCost(BigInt level, uint layer) {
			// TODO: Adjust the formula

			// Cost = 6^(layer) * 10 * level^k
			// Where k = 1 - (layer * (2/3)) [1, 0.66, 0.33]
			return std::powl(6, layer) * 10 * std::powl(level + 1, 1 - (layer * (2.0/3.0)));
		}
	}

	// Functionality relating to the sacrifice mechanic
	namespace Sacrifice {
		inline BigReal greenMatterToRedMatter(BigReal greenMatter) {
			// = (gm^0.5)/150
			return std::powl(greenMatter, 0.5) / 150.0;
		}

		inline BigReal expToRedMatter(BigReal exp, uint layer) {
			CCASSERT(layer < GameplayCommon::MAX_LAYER, "Invalid layer");

			switch (layer) {
			case 0:
				// = (exp^0.55)/1000
				return std::powl(exp, 0.55) / 1000.0;
			case 1:
				// = (exp^0.8)/2000
				return std::powl(exp, 0.8) / 2000.0;
			default:
			case 2:
				// = (exp^1.3)/6000
				return std::powl(exp, 1.3) / 6000.0;
			}

			return exp * layer;
		}

		// Calculates the level multiplier from red matter for the given layer
		inline BigReal redMatterLevelScale(BigReal redMatter, uint layer) {
			BigReal step = 0.01 + (0.005 * layer);

			return 1 + (std::powl(redMatter, 0.5) * step);
		}
	}	
}


/*

# Python script to calculate EXP required for each level

import math

def get_exp_required_for_level_mod(level, layer):
	if level == 0:
		return 0

	base = 1.2 + (layer * 0.02)
	exp = 6 + ((6 * base) / (base - 1)) * (math.pow(base, level - 1) - 1)

	if level > 60:
		multiplier = 1.55 + (layer * 0.025)
		return exp * math.pow(multiplier, level - 60)

	return math.ceil(exp)

for i in range(3):
	# Calculate EXP required for each level from 0 to 100
	layer = i
	exp_values = [get_exp_required_for_level_mod(level, layer) for level in range(500)]

	# Output the EXP values in the specified format
	exp_values_formatted = ", ".join(map(str, exp_values))

	print("{" + exp_values_formatted + "}\n\n")

*/
/*
// Based on the original function:

BigReal Hexii::getEXPRequiredForLevel(BigInt level, uint layer) {
	// = 6 + A(b^(level-1) - 1) where \
		b = (1.2 + layer/50) \
		A = 6b / (b - 1)
	// Derived from EXP required at `level` to gain a level, which is simply 6 * b^level

	// First is hardcoded
	if (level == 0) return 0;

	const BigReal base = 1.2 + (layer * 0.02);
	BigReal exp = 6 + ((6 * base) / (base - 1)) * (std::powl(base, level - 1) - 1);

	// Scaling becomes worse after level 60
	// b = 1.55 + (layer * 0.025)
	if (level > 60) {
		const BigReal multiplier = 1.55 + (layer * 0.025);
		return exp * std::powl(multiplier, level - 60);
	}

	return std::ceill(exp);
}

// Preserved for posterity
BigInt Hexii::getLevelFromEXP(BigReal exp, uint layer) {
	// = log_b(exp/A + 1)
	// Inverse function of getEXPRequiredForLevel

	// First is hardcoded
	if (exp < 6) return 0;
	exp -= 6;

	const BigReal base = 1.2 + (layer * 0.02);
	const BigReal operand = 1 + exp / ((6 * base) / (base - 1));
	BigReal level = 1 + std::logl(operand) / std::logl(base);

	// Scaling becomes worse after level 60
	// TODO: Handle levels over 60

	return (BigInt)std::floorl(level);
}
*/